{
    "version": "2.0",
    "metadata": {
        "apiVersion": "2018-05-10",
        "auth": ["aws.auth#sigv4"],
        "endpointPrefix": "datazone",
        "protocol": "rest-json",
        "protocols": ["rest-json"],
        "serviceFullName": "Amazon DataZone",
        "serviceId": "DataZone",
        "signatureVersion": "v4",
        "signingName": "datazone",
        "uid": "datazone-2018-05-10"
    },
    "operations": {
        "GetDomain": {
            "name": "GetDomain",
            "http": {
                "method": "GET",
                "requestUri": "/v2/domains/{identifier}",
                "responseCode": 200
            },
            "input": {
                "shape": "GetDomainInput"
            },
            "output": {
                "shape": "GetDomainOutput"
            },
            "errors": [
                {
                    "shape": "InternalServerException"
                },
                {
                    "shape": "ResourceNotFoundException"
                },
                {
                    "shape": "AccessDeniedException"
                },
                {
                    "shape": "ThrottlingException"
                },
                {
                    "shape": "ServiceQuotaExceededException"
                },
                {
                    "shape": "ValidationException"
                },
                {
                    "shape": "UnauthorizedException"
                }
            ],
            "readonly": true
        },
        "ListDomains": {
            "name": "ListDomains",
            "http": {
                "method": "GET",
                "requestUri": "/v2/domains",
                "responseCode": 200
            },
            "input": {
                "shape": "ListDomainsInput"
            },
            "output": {
                "shape": "ListDomainsOutput"
            },
            "errors": [
                {
                    "shape": "InternalServerException"
                },
                {
                    "shape": "ResourceNotFoundException"
                },
                {
                    "shape": "AccessDeniedException"
                },
                {
                    "shape": "ThrottlingException"
                },
                {
                    "shape": "ServiceQuotaExceededException"
                },
                {
                    "shape": "ConflictException"
                },
                {
                    "shape": "ValidationException"
                },
                {
                    "shape": "UnauthorizedException"
                }
            ],
            "readonly": true
        },
        "SearchGroupProfiles": {
            "name": "SearchGroupProfiles",
            "http": {
                "method": "POST",
                "requestUri": "/v2/domains/{domainIdentifier}/search-group-profiles",
                "responseCode": 200
            },
            "input": {
                "shape": "SearchGroupProfilesInput"
            },
            "output": {
                "shape": "SearchGroupProfilesOutput"
            },
            "errors": [
                {
                    "shape": "InternalServerException"
                },
                {
                    "shape": "ResourceNotFoundException"
                },
                {
                    "shape": "AccessDeniedException"
                },
                {
                    "shape": "ThrottlingException"
                },
                {
                    "shape": "ConflictException"
                },
                {
                    "shape": "ValidationException"
                },
                {
                    "shape": "UnauthorizedException"
                }
            ]
        },
        "SearchUserProfiles": {
            "name": "SearchUserProfiles",
            "http": {
                "method": "POST",
                "requestUri": "/v2/domains/{domainIdentifier}/search-user-profiles",
                "responseCode": 200
            },
            "input": {
                "shape": "SearchUserProfilesInput"
            },
            "output": {
                "shape": "SearchUserProfilesOutput"
            },
            "errors": [
                {
                    "shape": "InternalServerException"
                },
                {
                    "shape": "ResourceNotFoundException"
                },
                {
                    "shape": "AccessDeniedException"
                },
                {
                    "shape": "ThrottlingException"
                },
                {
                    "shape": "ConflictException"
                },
                {
                    "shape": "ValidationException"
                },
                {
                    "shape": "UnauthorizedException"
                }
            ]
        }
    },
    "shapes": {
        "GetDomainInput": {
            "type": "structure",
            "required": ["identifier"],
            "members": {
                "identifier": {
                    "shape": "DomainId",
                    "location": "uri",
                    "locationName": "identifier"
                }
            }
        },
        "DomainId": {
            "type": "string",
            "pattern": "dzd[-_][a-zA-Z0-9_-]{1,36}"
        },
        "GetDomainOutput": {
            "type": "structure",
            "required": ["id", "status"],
            "members": {
                "id": {
                    "shape": "DomainId"
                },
                "rootDomainUnitId": {
                    "shape": "DomainUnitId"
                },
                "name": {
                    "shape": "String"
                },
                "description": {
                    "shape": "String"
                },
                "singleSignOn": {
                    "shape": "SingleSignOn"
                },
                "domainExecutionRole": {
                    "shape": "RoleArn"
                },
                "arn": {
                    "shape": "String"
                },
                "kmsKeyIdentifier": {
                    "shape": "KmsKeyArn"
                },
                "status": {
                    "shape": "DomainStatus"
                },
                "failureReasons": {
                    "shape": "FailureReasonsList"
                },
                "portalUrl": {
                    "shape": "String"
                },
                "createdAt": {
                    "shape": "CreatedAt"
                },
                "lastUpdatedAt": {
                    "shape": "UpdatedAt"
                },
                "tags": {
                    "shape": "Tags"
                },
                "provisionStatus": {
                    "shape": "ProvisionStatus",
                    "internalonly": true
                },
                "domainVersion": {
                    "shape": "DomainVersion"
                },
                "domainServiceRole": {
                    "shape": "RoleArn",
                    "deprecated": true,
                    "internalonly": true
                },
                "serviceRole": {
                    "shape": "RoleArn"
                },
                "supportedDomainVersions": {
                    "shape": "SupportedDomainVersions",
                    "internalonly": true
                },
                "iamSignIns": {
                    "shape": "IamSignIns",
                    "internalonly": true
                },
                "preferences": {
                    "shape": "Preferences",
                    "internalonly": true
                }
            }
        },
        "DomainUnitId": {
            "type": "string",
            "max": 256,
            "min": 1,
            "pattern": "[a-z0-9_\\-]+"
        },
        "String": {
            "type": "string"
        },
        "SingleSignOn": {
            "type": "structure",
            "members": {
                "type": {
                    "shape": "AuthType"
                },
                "userAssignment": {
                    "shape": "UserAssignment"
                },
                "idcInstanceArn": {
                    "shape": "SingleSignOnIdcInstanceArnString"
                },
                "ssoUrl": {
                    "shape": "String",
                    "internalonly": true
                },
                "idcApplicationArn": {
                    "shape": "String",
                    "internalonly": true
                }
            }
        },
        "AuthType": {
            "type": "string",
            "enum": ["IAM_IDC", "DISABLED", "SAML"]
        },
        "UserAssignment": {
            "type": "string",
            "enum": ["AUTOMATIC", "MANUAL"]
        },
        "SingleSignOnIdcInstanceArnString": {
            "type": "string",
            "pattern": ".*arn:(aws|aws-us-gov|aws-cn|aws-iso|aws-iso-b):sso:::instance/(sso)?ins-[a-zA-Z0-9-.]{16}.*"
        },
        "RoleArn": {
            "type": "string",
            "pattern": "arn:aws[^:]*:iam::\\d{12}:role(/[a-zA-Z0-9+=,.@_-]+)*/[a-zA-Z0-9+=,.@_-]+"
        },
        "KmsKeyArn": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "pattern": "arn:aws(|-cn|-us-gov):kms:[a-zA-Z0-9-]*:[0-9]{12}:key/[a-zA-Z0-9-]{36}"
        },
        "DomainStatus": {
            "type": "string",
            "enum": ["CREATING", "AVAILABLE", "CREATION_FAILED", "DELETING", "DELETED", "DELETION_FAILED"]
        },
        "FailureReasonsList": {
            "type": "list",
            "member": {
                "shape": "FailureReason"
            }
        },
        "FailureReason": {
            "type": "structure",
            "members": {
                "code": {
                    "shape": "String"
                },
                "message": {
                    "shape": "String"
                }
            }
        },
        "CreatedAt": {
            "type": "timestamp"
        },
        "UpdatedAt": {
            "type": "timestamp"
        },
        "Tags": {
            "type": "map",
            "key": {
                "shape": "TagKey"
            },
            "value": {
                "shape": "TagValue"
            }
        },
        "TagKey": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "[\\w \\.:/=+@-]+"
        },
        "TagValue": {
            "type": "string",
            "max": 256,
            "min": 0,
            "pattern": "[\\w \\.:/=+@-]*"
        },
        "ProvisionStatus": {
            "type": "string",
            "enum": [
                "PROVISIONING",
                "PROVISIONING_PROJECT_PROFILES",
                "PROVISIONING_MODEL_ASSETS",
                "PROVISION_FAILED",
                "PROVISION_COMPLETE"
            ]
        },
        "DomainVersion": {
            "type": "string",
            "enum": ["V1", "V2"]
        },
        "SupportedDomainVersions": {
            "type": "list",
            "member": {
                "shape": "DomainVersion"
            }
        },
        "IamSignIns": {
            "type": "list",
            "member": {
                "shape": "IamSignIn"
            },
            "internalonly": true
        },
        "IamSignIn": {
            "type": "string",
            "enum": ["IAM_ROLE", "IAM_USER"],
            "internalonly": true
        },
        "Preferences": {
            "type": "map",
            "key": {
                "shape": "PreferenceKey"
            },
            "value": {
                "shape": "PreferenceValue"
            },
            "max": 10,
            "min": 0
        },
        "PreferenceKey": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "[\\w \\.:/=+@-]+"
        },
        "PreferenceValue": {
            "type": "string",
            "max": 256,
            "min": 0,
            "pattern": "[\\w \\.:/=+@-]*"
        },
        "InternalServerException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                }
            },
            "error": {
                "httpStatusCode": 500
            },
            "exception": true,
            "fault": true,
            "retryable": {
                "throttling": false
            }
        },
        "ErrorMessage": {
            "type": "string"
        },
        "ResourceNotFoundException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                }
            },
            "error": {
                "httpStatusCode": 404,
                "senderFault": true
            },
            "exception": true
        },
        "AccessDeniedException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                }
            },
            "error": {
                "httpStatusCode": 403,
                "senderFault": true
            },
            "exception": true
        },
        "ThrottlingException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                }
            },
            "error": {
                "httpStatusCode": 429,
                "senderFault": true
            },
            "exception": true,
            "retryable": {
                "throttling": false
            }
        },
        "ServiceQuotaExceededException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                }
            },
            "error": {
                "httpStatusCode": 402,
                "senderFault": true
            },
            "exception": true
        },
        "ValidationException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                }
            },
            "error": {
                "httpStatusCode": 400,
                "senderFault": true
            },
            "exception": true
        },
        "UnauthorizedException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                }
            },
            "error": {
                "httpStatusCode": 401,
                "senderFault": true
            },
            "exception": true
        },
        "ListDomainsInput": {
            "type": "structure",
            "members": {
                "status": {
                    "shape": "DomainStatus",
                    "location": "querystring",
                    "locationName": "status"
                },
                "maxResults": {
                    "shape": "MaxResultsForListDomains",
                    "location": "querystring",
                    "locationName": "maxResults"
                },
                "nextToken": {
                    "shape": "PaginationToken",
                    "location": "querystring",
                    "locationName": "nextToken"
                }
            }
        },
        "MaxResultsForListDomains": {
            "type": "integer",
            "box": true,
            "max": 25,
            "min": 1
        },
        "PaginationToken": {
            "type": "string",
            "max": 8192,
            "min": 1
        },
        "ListDomainsOutput": {
            "type": "structure",
            "required": ["items"],
            "members": {
                "items": {
                    "shape": "DomainSummaries"
                },
                "domains": {
                    "shape": "DomainSummaries",
                    "internalonly": true
                },
                "nextToken": {
                    "shape": "PaginationToken"
                }
            }
        },
        "DomainSummaries": {
            "type": "list",
            "member": {
                "shape": "DomainSummary"
            }
        },
        "DomainSummary": {
            "type": "structure",
            "required": ["id", "name", "arn", "managedAccountId", "status", "createdAt"],
            "members": {
                "id": {
                    "shape": "DomainId"
                },
                "name": {
                    "shape": "DomainName"
                },
                "description": {
                    "shape": "DomainDescription"
                },
                "arn": {
                    "shape": "String"
                },
                "managedAccountId": {
                    "shape": "String"
                },
                "status": {
                    "shape": "DomainStatus"
                },
                "portalUrl": {
                    "shape": "String"
                },
                "createdAt": {
                    "shape": "CreatedAt"
                },
                "lastUpdatedAt": {
                    "shape": "UpdatedAt"
                },
                "domainVersion": {
                    "shape": "DomainVersion"
                },
                "iamSignIns": {
                    "shape": "IamSignIns",
                    "internalonly": true
                },
                "preferences": {
                    "shape": "Preferences",
                    "internalonly": true
                }
            }
        },
        "DomainName": {
            "type": "string",
            "sensitive": true
        },
        "DomainDescription": {
            "type": "string",
            "sensitive": true
        },
        "ConflictException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": {
                    "shape": "ErrorMessage"
                },
                "reason": {
                    "shape": "ConflictReason"
                },
                "details": {
                    "shape": "ConflictDetails"
                }
            },
            "error": {
                "httpStatusCode": 409,
                "senderFault": true
            },
            "exception": true
        },
        "ConflictReason": {
            "type": "string",
            "enum": ["RESOURCE_LOCKED"]
        },
        "ConflictDetails": {
            "type": "structure",
            "members": {
                "lock": {
                    "shape": "LockDetails"
                }
            },
            "union": true
        },
        "LockDetails": {
            "type": "structure",
            "required": ["lockedBy", "lockedAt", "lockExpiresAt"],
            "members": {
                "lockedBy": {
                    "shape": "String"
                },
                "lockedAt": {
                    "shape": "Timestamp"
                },
                "lockExpiresAt": {
                    "shape": "Timestamp"
                }
            }
        },
        "Timestamp": {
            "type": "timestamp"
        },
        "SearchGroupProfilesInput": {
            "type": "structure",
            "required": ["domainIdentifier", "groupType"],
            "members": {
                "domainIdentifier": {
                    "shape": "DomainId",
                    "location": "uri",
                    "locationName": "domainIdentifier"
                },
                "groupType": {
                    "shape": "GroupSearchType"
                },
                "searchText": {
                    "shape": "GroupSearchText"
                },
                "maxResults": {
                    "shape": "MaxResults"
                },
                "nextToken": {
                    "shape": "PaginationToken"
                }
            }
        },
        "GroupSearchType": {
            "type": "string",
            "enum": ["SSO_GROUP", "DATAZONE_SSO_GROUP", "IAM_ROLE_SESSION_GROUP"]
        },
        "GroupSearchText": {
            "type": "string",
            "max": 1024,
            "min": 0,
            "sensitive": true
        },
        "MaxResults": {
            "type": "integer",
            "box": true,
            "max": 50,
            "min": 1
        },
        "SearchGroupProfilesOutput": {
            "type": "structure",
            "members": {
                "items": {
                    "shape": "GroupProfileSummaries"
                },
                "nextToken": {
                    "shape": "PaginationToken"
                }
            }
        },
        "GroupProfileSummaries": {
            "type": "list",
            "member": {
                "shape": "GroupProfileSummary"
            }
        },
        "GroupProfileSummary": {
            "type": "structure",
            "members": {
                "domainId": {
                    "shape": "DomainId"
                },
                "id": {
                    "shape": "GroupProfileId"
                },
                "status": {
                    "shape": "GroupProfileStatus"
                },
                "groupName": {
                    "shape": "GroupProfileName"
                },
                "rolePrincipalArn": {
                    "shape": "String",
                    "internalonly": true
                },
                "rolePrincipalId": {
                    "shape": "String",
                    "internalonly": true
                }
            }
        },
        "GroupProfileId": {
            "type": "string",
            "pattern": "([0-9a-f]{10}-|)[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}"
        },
        "GroupProfileStatus": {
            "type": "string",
            "enum": ["ASSIGNED", "NOT_ASSIGNED"]
        },
        "GroupProfileName": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "pattern": "[a-zA-Z_0-9+=,.@-]+",
            "sensitive": true
        },
        "SearchUserProfilesInput": {
            "type": "structure",
            "required": ["domainIdentifier", "userType"],
            "members": {
                "domainIdentifier": {
                    "shape": "DomainId",
                    "location": "uri",
                    "locationName": "domainIdentifier"
                },
                "userType": {
                    "shape": "UserSearchType"
                },
                "searchText": {
                    "shape": "UserSearchText"
                },
                "maxResults": {
                    "shape": "MaxResults"
                },
                "nextToken": {
                    "shape": "PaginationToken"
                }
            }
        },
        "UserSearchType": {
            "type": "string",
            "enum": ["SSO_USER", "DATAZONE_USER", "DATAZONE_SSO_USER", "DATAZONE_IAM_USER"]
        },
        "UserSearchText": {
            "type": "string",
            "max": 1024,
            "min": 0,
            "sensitive": true
        },
        "SearchUserProfilesOutput": {
            "type": "structure",
            "members": {
                "items": {
                    "shape": "UserProfileSummaries"
                },
                "nextToken": {
                    "shape": "PaginationToken"
                }
            }
        },
        "UserProfileSummaries": {
            "type": "list",
            "member": {
                "shape": "UserProfileSummary"
            }
        },
        "UserProfileSummary": {
            "type": "structure",
            "members": {
                "domainId": {
                    "shape": "DomainId"
                },
                "id": {
                    "shape": "UserProfileId"
                },
                "type": {
                    "shape": "UserProfileType"
                },
                "status": {
                    "shape": "UserProfileStatus"
                },
                "details": {
                    "shape": "UserProfileDetails"
                }
            }
        },
        "UserProfileId": {
            "type": "string",
            "pattern": "([0-9a-f]{10}-|)[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}"
        },
        "UserProfileType": {
            "type": "string",
            "enum": ["IAM", "SSO", "SAML"]
        },
        "UserProfileStatus": {
            "type": "string",
            "enum": ["ASSIGNED", "NOT_ASSIGNED", "ACTIVATED", "DEACTIVATED", "ARCHIVED"]
        },
        "UserProfileDetails": {
            "type": "structure",
            "members": {
                "iam": {
                    "shape": "IamUserProfileDetails"
                },
                "sso": {
                    "shape": "SsoUserProfileDetails"
                }
            },
            "union": true
        },
        "IamUserProfileDetails": {
            "type": "structure",
            "members": {
                "arn": {
                    "shape": "String"
                },
                "principalId": {
                    "shape": "String"
                }
            }
        },
        "SsoUserProfileDetails": {
            "type": "structure",
            "members": {
                "username": {
                    "shape": "UserProfileName"
                },
                "firstName": {
                    "shape": "FirstName"
                },
                "lastName": {
                    "shape": "LastName"
                },
                "email": {
                    "shape": "String",
                    "internalonly": true
                },
                "userId": {
                    "shape": "String",
                    "internalonly": true
                }
            }
        },
        "UserProfileName": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "pattern": "[a-zA-Z_0-9+=,.@-]+",
            "sensitive": true
        },
        "FirstName": {
            "type": "string",
            "sensitive": true
        },
        "LastName": {
            "type": "string",
            "sensitive": true
        }
    }
}
