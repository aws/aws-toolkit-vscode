{
    "version": "2.0",
    "metadata": {
        "apiVersion": "2022-11-11",
        "endpointPrefix": "amazoncodewhispererservice",
        "jsonVersion": "1.0",
        "protocol": "json",
        "serviceFullName": "Amazon CodeWhisperer",
        "serviceId": "CodeWhispererRuntime",
        "signingName": "amazoncodewhispererservice",
        "targetPrefix": "AmazonCodeWhispererService",
        "uid": "codewhispererruntime-2022-11-11"
    },
    "operations": {
        "CreateArtifactUploadUrl": {
            "name": "CreateArtifactUploadUrl",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "CreateUploadUrlRequest" },
            "output": { "shape": "CreateUploadUrlResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ],
            "idempotent": true
        },
        "CreateUploadUrl": {
            "name": "CreateUploadUrl",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "CreateUploadUrlRequest" },
            "output": { "shape": "CreateUploadUrlResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ],
            "idempotent": true
        },
        "GenerateCompletions": {
            "name": "GenerateCompletions",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "GenerateCompletionsRequest" },
            "output": { "shape": "GenerateCompletionsResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ]
        },
        "GetCodeAnalysis": {
            "name": "GetCodeAnalysis",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "GetCodeAnalysisRequest" },
            "output": { "shape": "GetCodeAnalysisResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "ResourceNotFoundException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ]
        },
        "ListAvailableCustomizations": {
            "name": "ListAvailableCustomizations",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "ListAvailableCustomizationsRequest" },
            "output": { "shape": "ListAvailableCustomizationsResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ]
        },
        "ListCodeAnalysisFindings": {
            "name": "ListCodeAnalysisFindings",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "ListCodeAnalysisFindingsRequest" },
            "output": { "shape": "ListCodeAnalysisFindingsResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "ResourceNotFoundException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ]
        },
        "ListFeatureEvaluations": {
            "name": "ListFeatureEvaluations",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "ListFeatureEvaluationsRequest" },
            "output": { "shape": "ListFeatureEvaluationsResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ]
        },
        "SendTelemetryEvent": {
            "name": "SendTelemetryEvent",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "SendTelemetryEventRequest" },
            "output": { "shape": "SendTelemetryEventResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ],
            "idempotent": true
        },
        "StartCodeAnalysis": {
            "name": "StartCodeAnalysis",
            "http": {
                "method": "POST",
                "requestUri": "/"
            },
            "input": { "shape": "StartCodeAnalysisRequest" },
            "output": { "shape": "StartCodeAnalysisResponse" },
            "errors": [
                { "shape": "ThrottlingException" },
                { "shape": "ConflictException" },
                { "shape": "ResourceNotFoundException" },
                { "shape": "InternalServerException" },
                { "shape": "ValidationException" },
                { "shape": "AccessDeniedException" }
            ],
            "idempotent": true
        }
    },
    "shapes": {
        "AccessDeniedException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": { "shape": "String" }
            },
            "exception": true
        },
        "ArtifactMap": {
            "type": "map",
            "key": { "shape": "ArtifactType" },
            "value": { "shape": "UploadId" },
            "max": 64,
            "min": 1
        },
        "ArtifactType": {
            "type": "string",
            "enum": ["SourceCode", "BuiltJars"]
        },
        "Base64EncodedPaginationToken": {
            "type": "string",
            "max": 2048,
            "min": 1,
            "pattern": "(?:[A-Za-z0-9\\+/]{4})*(?:[A-Za-z0-9\\+/]{2}\\=\\=|[A-Za-z0-9\\+/]{3}\\=)?"
        },
        "Boolean": {
            "type": "boolean",
            "box": true
        },
        "CodeAnalysisFindingsSchema": {
            "type": "string",
            "enum": ["codeanalysis/findings/1.0"]
        },
        "CodeAnalysisStatus": {
            "type": "string",
            "enum": ["Completed", "Pending", "Failed"]
        },
        "CodeCoverageEvent": {
            "type": "structure",
            "required": ["programmingLanguage", "acceptedCharacterCount", "totalCharacterCount", "timestamp"],
            "members": {
                "customizationArn": { "shape": "ResourceArn" },
                "programmingLanguage": { "shape": "ProgrammingLanguage" },
                "acceptedCharacterCount": { "shape": "SensitiveInteger" },
                "totalCharacterCount": { "shape": "SensitiveInteger" },
                "timestamp": { "shape": "Timestamp" }
            }
        },
        "CodeScanEvent": {
            "type": "structure",
            "required": ["programmingLanguage", "codeScanJobId", "timestamp"],
            "members": {
                "programmingLanguage": { "shape": "ProgrammingLanguage" },
                "codeScanJobId": { "shape": "CodeScanJobId" },
                "timestamp": { "shape": "Timestamp" }
            }
        },
        "CodeScanJobId": {
            "type": "string",
            "max": 128,
            "min": 1
        },
        "Completion": {
            "type": "structure",
            "required": ["content"],
            "members": {
                "content": { "shape": "CompletionContentString" },
                "references": { "shape": "References" },
                "mostRelevantMissingImports": { "shape": "Imports" }
            }
        },
        "CompletionContentString": {
            "type": "string",
            "max": 5120,
            "min": 1,
            "sensitive": true
        },
        "CompletionType": {
            "type": "string",
            "enum": ["BLOCK", "LINE"],
            "sensitive": true
        },
        "Completions": {
            "type": "list",
            "member": { "shape": "Completion" },
            "max": 10,
            "min": 0
        },
        "ConflictException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": { "shape": "String" }
            },
            "exception": true
        },
        "CreateUploadUrlRequest": {
            "type": "structure",
            "required": ["contentMd5"],
            "members": {
                "contentMd5": { "shape": "CreateUploadUrlRequestContentMd5String" },
                "artifactType": { "shape": "ArtifactType" }
            }
        },
        "CreateUploadUrlRequestContentMd5String": {
            "type": "string",
            "max": 128,
            "min": 1
        },
        "CreateUploadUrlResponse": {
            "type": "structure",
            "required": ["uploadId", "uploadUrl"],
            "members": {
                "uploadId": { "shape": "UploadId" },
                "uploadUrl": { "shape": "PreSignedUrl" },
                "kmsKeyArn": { "shape": "ResourceArn" }
            }
        },
        "Customization": {
            "type": "structure",
            "required": ["arn"],
            "members": {
                "arn": { "shape": "ResourceArn" },
                "name": { "shape": "CustomizationName" },
                "description": { "shape": "Description" }
            }
        },
        "CustomizationName": {
            "type": "string",
            "max": 100,
            "min": 1,
            "pattern": "[a-zA-Z][a-zA-Z0-9_-]*"
        },
        "Customizations": {
            "type": "list",
            "member": { "shape": "Customization" }
        },
        "Description": {
            "type": "string",
            "max": 256,
            "min": 0,
            "pattern": "[\\sa-zA-Z0-9_-]*"
        },
        "Double": {
            "type": "double",
            "box": true
        },
        "FeatureEvaluation": {
            "type": "structure",
            "required": ["feature", "variation", "value"],
            "members": {
                "feature": { "shape": "FeatureName" },
                "variation": { "shape": "FeatureVariation" },
                "value": { "shape": "FeatureValue" }
            }
        },
        "FeatureEvaluationsList": {
            "type": "list",
            "member": { "shape": "FeatureEvaluation" },
            "max": 50,
            "min": 0
        },
        "FeatureName": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "[-a-zA-Z0-9._]*"
        },
        "FeatureValue": {
            "type": "structure",
            "members": {
                "boolValue": { "shape": "Boolean" },
                "doubleValue": { "shape": "Double" },
                "longValue": { "shape": "Long" },
                "stringValue": { "shape": "FeatureValueStringType" }
            },
            "union": true
        },
        "FeatureValueStringType": {
            "type": "string",
            "max": 512,
            "min": 0
        },
        "FeatureVariation": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "[-a-zA-Z0-9._]*"
        },
        "FileContext": {
            "type": "structure",
            "required": ["leftFileContent", "rightFileContent", "filename", "programmingLanguage"],
            "members": {
                "leftFileContent": { "shape": "FileContextLeftFileContentString" },
                "rightFileContent": { "shape": "FileContextRightFileContentString" },
                "filename": { "shape": "FileContextFilenameString" },
                "programmingLanguage": { "shape": "ProgrammingLanguage" }
            }
        },
        "FileContextFilenameString": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "sensitive": true
        },
        "FileContextLeftFileContentString": {
            "type": "string",
            "max": 10240,
            "min": 0,
            "sensitive": true
        },
        "FileContextRightFileContentString": {
            "type": "string",
            "max": 10240,
            "min": 0,
            "sensitive": true
        },
        "GenerateCompletionsRequest": {
            "type": "structure",
            "required": ["fileContext"],
            "members": {
                "fileContext": { "shape": "FileContext" },
                "maxResults": { "shape": "GenerateCompletionsRequestMaxResultsInteger" },
                "nextToken": { "shape": "GenerateCompletionsRequestNextTokenString" },
                "referenceTrackerConfiguration": { "shape": "ReferenceTrackerConfiguration" },
                "supplementalContexts": { "shape": "SupplementalContextList" },
                "customizationArn": { "shape": "ResourceArn" },
                "optOutPreference": { "shape": "OptOutPreference" },
                "userContext": { "shape": "UserContext" }
            }
        },
        "GenerateCompletionsRequestMaxResultsInteger": {
            "type": "integer",
            "box": true,
            "max": 10,
            "min": 1
        },
        "GenerateCompletionsRequestNextTokenString": {
            "type": "string",
            "max": 2048,
            "min": 0,
            "pattern": "(?:[A-Za-z0-9\\+/]{4})*(?:[A-Za-z0-9\\+/]{2}\\=\\=|[A-Za-z0-9\\+/]{3}\\=)?"
        },
        "GenerateCompletionsResponse": {
            "type": "structure",
            "members": {
                "completions": { "shape": "Completions" },
                "nextToken": { "shape": "String" }
            }
        },
        "GetCodeAnalysisRequest": {
            "type": "structure",
            "required": ["jobId"],
            "members": {
                "jobId": { "shape": "GetCodeAnalysisRequestJobIdString" }
            }
        },
        "GetCodeAnalysisRequestJobIdString": {
            "type": "string",
            "max": 256,
            "min": 1
        },
        "GetCodeAnalysisResponse": {
            "type": "structure",
            "required": ["status"],
            "members": {
                "status": { "shape": "CodeAnalysisStatus" },
                "errorMessage": { "shape": "String" }
            }
        },
        "IdeCategory": {
            "type": "string",
            "enum": ["JETBRAINS", "VSCODE"],
            "max": 64,
            "min": 1
        },
        "IdempotencyToken": {
            "type": "string",
            "max": 256,
            "min": 1
        },
        "Import": {
            "type": "structure",
            "members": {
                "statement": { "shape": "ImportStatementString" }
            }
        },
        "ImportStatementString": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "sensitive": true
        },
        "Imports": {
            "type": "list",
            "member": { "shape": "Import" },
            "max": 10,
            "min": 0
        },
        "InternalServerException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": { "shape": "String" }
            },
            "exception": true,
            "fault": true,
            "retryable": { "throttling": false }
        },
        "ListAvailableCustomizationsRequest": {
            "type": "structure",
            "members": {
                "maxResults": { "shape": "ListAvailableCustomizationsRequestMaxResultsInteger" },
                "nextToken": { "shape": "Base64EncodedPaginationToken" }
            }
        },
        "ListAvailableCustomizationsRequestMaxResultsInteger": {
            "type": "integer",
            "box": true,
            "max": 100,
            "min": 1
        },
        "ListAvailableCustomizationsResponse": {
            "type": "structure",
            "required": ["customizations"],
            "members": {
                "customizations": { "shape": "Customizations" },
                "nextToken": { "shape": "Base64EncodedPaginationToken" }
            }
        },
        "ListCodeAnalysisFindingsRequest": {
            "type": "structure",
            "required": ["jobId", "codeAnalysisFindingsSchema"],
            "members": {
                "jobId": { "shape": "ListCodeAnalysisFindingsRequestJobIdString" },
                "nextToken": { "shape": "PaginationToken" },
                "codeAnalysisFindingsSchema": { "shape": "CodeAnalysisFindingsSchema" }
            }
        },
        "ListCodeAnalysisFindingsRequestJobIdString": {
            "type": "string",
            "max": 256,
            "min": 1
        },
        "ListCodeAnalysisFindingsResponse": {
            "type": "structure",
            "required": ["codeAnalysisFindings"],
            "members": {
                "nextToken": { "shape": "PaginationToken" },
                "codeAnalysisFindings": { "shape": "String" }
            }
        },
        "ListFeatureEvaluationsRequest": {
            "type": "structure",
            "required": ["userContext"],
            "members": {
                "userContext": { "shape": "UserContext" }
            }
        },
        "ListFeatureEvaluationsResponse": {
            "type": "structure",
            "required": ["featureEvaluations"],
            "members": {
                "featureEvaluations": { "shape": "FeatureEvaluationsList" }
            }
        },
        "Long": {
            "type": "long",
            "box": true
        },
        "OperatingSystem": {
            "type": "string",
            "enum": ["MAC", "WINDOWS", "LINUX"],
            "max": 64,
            "min": 1
        },
        "OptOutPreference": {
            "type": "string",
            "enum": ["OPTIN", "OPTOUT"],
            "sensitive": true
        },
        "PaginationToken": {
            "type": "string",
            "max": 2048,
            "min": 1,
            "pattern": "\\S+"
        },
        "PreSignedUrl": {
            "type": "string",
            "max": 2048,
            "min": 1
        },
        "ProgrammingLanguage": {
            "type": "structure",
            "required": ["languageName"],
            "members": {
                "languageName": { "shape": "ProgrammingLanguageLanguageNameString" }
            }
        },
        "ProgrammingLanguageLanguageNameString": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "(python|javascript|java|csharp|typescript|c|cpp|go|kotlin|php|ruby|rust|scala|shell|sql)"
        },
        "RecommendationsWithReferencesPreference": {
            "type": "string",
            "enum": ["BLOCK", "ALLOW"]
        },
        "Reference": {
            "type": "structure",
            "members": {
                "licenseName": { "shape": "ReferenceLicenseNameString" },
                "repository": { "shape": "ReferenceRepositoryString" },
                "url": { "shape": "ReferenceUrlString" },
                "recommendationContentSpan": { "shape": "Span" }
            }
        },
        "ReferenceLicenseNameString": {
            "type": "string",
            "max": 1024,
            "min": 1
        },
        "ReferenceRepositoryString": {
            "type": "string",
            "max": 1024,
            "min": 1
        },
        "ReferenceTrackerConfiguration": {
            "type": "structure",
            "required": ["recommendationsWithReferences"],
            "members": {
                "recommendationsWithReferences": { "shape": "RecommendationsWithReferencesPreference" }
            }
        },
        "ReferenceUrlString": {
            "type": "string",
            "max": 1024,
            "min": 1
        },
        "References": {
            "type": "list",
            "member": { "shape": "Reference" },
            "max": 10,
            "min": 0
        },
        "ResourceArn": {
            "type": "string",
            "max": 1224,
            "min": 0
        },
        "ResourceNotFoundException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": { "shape": "String" }
            },
            "exception": true
        },
        "SendTelemetryEventRequest": {
            "type": "structure",
            "required": ["telemetryEvent"],
            "members": {
                "clientToken": {
                    "shape": "IdempotencyToken",
                    "idempotencyToken": true
                },
                "telemetryEvent": { "shape": "TelemetryEvent" },
                "optOutPreference": { "shape": "OptOutPreference" },
                "userContext": { "shape": "UserContext" }
            }
        },
        "SendTelemetryEventResponse": {
            "type": "structure",
            "members": {}
        },
        "SensitiveDouble": {
            "type": "double",
            "sensitive": true
        },
        "SensitiveInteger": {
            "type": "integer",
            "sensitive": true
        },
        "Span": {
            "type": "structure",
            "members": {
                "start": { "shape": "SpanStartInteger" },
                "end": { "shape": "SpanEndInteger" }
            }
        },
        "SpanEndInteger": {
            "type": "integer",
            "box": true,
            "min": 0
        },
        "SpanStartInteger": {
            "type": "integer",
            "box": true,
            "min": 0
        },
        "StartCodeAnalysisRequest": {
            "type": "structure",
            "required": ["artifacts", "programmingLanguage"],
            "members": {
                "artifacts": { "shape": "ArtifactMap" },
                "programmingLanguage": { "shape": "ProgrammingLanguage" },
                "clientToken": {
                    "shape": "StartCodeAnalysisRequestClientTokenString",
                    "idempotencyToken": true
                }
            }
        },
        "StartCodeAnalysisRequestClientTokenString": {
            "type": "string",
            "max": 256,
            "min": 1
        },
        "StartCodeAnalysisResponse": {
            "type": "structure",
            "required": ["jobId", "status"],
            "members": {
                "jobId": { "shape": "StartCodeAnalysisResponseJobIdString" },
                "status": { "shape": "CodeAnalysisStatus" },
                "errorMessage": { "shape": "String" }
            }
        },
        "StartCodeAnalysisResponseJobIdString": {
            "type": "string",
            "max": 256,
            "min": 1
        },
        "String": { "type": "string" },
        "SuggestionState": {
            "type": "string",
            "enum": ["ACCEPT", "REJECT", "DISCARD", "EMPTY"],
            "sensitive": true
        },
        "SupplementalContext": {
            "type": "structure",
            "required": ["filePath", "content"],
            "members": {
                "filePath": { "shape": "SupplementalContextFilePathString" },
                "content": { "shape": "SupplementalContextContentString" }
            }
        },
        "SupplementalContextContentString": {
            "type": "string",
            "max": 10240,
            "min": 1,
            "sensitive": true
        },
        "SupplementalContextFilePathString": {
            "type": "string",
            "max": 1024,
            "min": 1,
            "sensitive": true
        },
        "SupplementalContextList": {
            "type": "list",
            "member": { "shape": "SupplementalContext" },
            "max": 5,
            "min": 0
        },
        "TelemetryEvent": {
            "type": "structure",
            "members": {
                "userTriggerDecisionEvent": { "shape": "UserTriggerDecisionEvent" },
                "codeCoverageEvent": { "shape": "CodeCoverageEvent" },
                "userModificationEvent": { "shape": "UserModificationEvent" },
                "codeScanEvent": { "shape": "CodeScanEvent" }
            },
            "union": true
        },
        "ThrottlingException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": { "shape": "String" }
            },
            "exception": true,
            "retryable": { "throttling": false }
        },
        "Timestamp": { "type": "timestamp" },
        "UUID": {
            "type": "string",
            "max": 36,
            "min": 36
        },
        "UploadId": {
            "type": "string",
            "max": 128,
            "min": 1
        },
        "UserContext": {
            "type": "structure",
            "required": ["ideCategory", "operatingSystem", "product"],
            "members": {
                "ideCategory": { "shape": "IdeCategory" },
                "operatingSystem": { "shape": "OperatingSystem" },
                "product": { "shape": "UserContextProductString" }
            }
        },
        "UserContextProductString": {
            "type": "string",
            "max": 128,
            "min": 1,
            "pattern": "[-a-zA-Z0-9._]*"
        },
        "UserModificationEvent": {
            "type": "structure",
            "required": ["sessionId", "requestId", "programmingLanguage", "modificationPercentage", "timestamp"],
            "members": {
                "sessionId": { "shape": "UUID" },
                "requestId": { "shape": "UUID" },
                "programmingLanguage": { "shape": "ProgrammingLanguage" },
                "modificationPercentage": { "shape": "SensitiveDouble" },
                "customizationArn": { "shape": "ResourceArn" },
                "timestamp": { "shape": "Timestamp" }
            }
        },
        "UserTriggerDecisionEvent": {
            "type": "structure",
            "required": [
                "sessionId",
                "requestId",
                "programmingLanguage",
                "completionType",
                "suggestionState",
                "recommendationLatencyMilliseconds",
                "timestamp"
            ],
            "members": {
                "sessionId": { "shape": "UUID" },
                "requestId": { "shape": "UUID" },
                "customizationArn": { "shape": "ResourceArn" },
                "programmingLanguage": { "shape": "ProgrammingLanguage" },
                "completionType": { "shape": "CompletionType" },
                "suggestionState": { "shape": "SuggestionState" },
                "recommendationLatencyMilliseconds": { "shape": "SensitiveDouble" },
                "timestamp": { "shape": "Timestamp" },
                "suggestionReferenceCount": { "shape": "SensitiveInteger" },
                "generatedLine": { "shape": "SensitiveInteger" }
            }
        },
        "ValidationException": {
            "type": "structure",
            "required": ["message"],
            "members": {
                "message": { "shape": "String" }
            },
            "exception": true
        }
    }
}
