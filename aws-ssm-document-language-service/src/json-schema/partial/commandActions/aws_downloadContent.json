{
    "definitions": {
        "2.2": {
            "description": "(Schema version 2.0 or later) Download SSM documents and scripts from remote locations. This plugin is supported on Linux and Windows Server operating systems.",
            "properties": {
                "inputs": {
                    "properties": {
                        "sourceType": {
                            "description": "The download source. Systems Manager currently supports the following source types for downloading scripts and SSM documents: GitHub, S3, and SSMDocument.",
                            "type": "string",
                            "anyOf": [
                                {
                                    "enum": ["Github", "S3", "SSMDocument"]
                                },
                                {
                                    "pattern": "^{{[ ]{0,1}[a-zA-Z_.]+[ ]{0,1}}}$"
                                }
                            ]
                        },
                        "sourceInfo": {
                            "description": "The information required to retrieve the content from the required source.",
                            "type": ["object", "string"]
                        },
                        "destinationPath": {
                            "description": "An optional local path on the instance where you want to download the file. If you don't specify a path, the content is downloaded to a path relative to your command ID.",
                            "type": "string"
                        }
                    },
                    "allOf": [
                        {
                            "if": {
                                "properties": {
                                    "sourceType": {
                                        "const": "Github"
                                    },
                                    "sourceInfo": {
                                        "type": "object"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "sourceInfo": {
                                        "properties": {
                                            "owner": {
                                                "description": "The repository owner.",
                                                "type": "string"
                                            },
                                            "repository": {
                                                "description": "The name of the repository.",
                                                "type": "string"
                                            },
                                            "path": {
                                                "description": "The path to the file or directory you want to download.",
                                                "type": "string"
                                            },
                                            "getOptions": {
                                                "description": " Extra options to retrieve content from a branch other than master or from a specific commit in the repository. getOptions can be omitted if you are using the latest commit in the master branch.\nThis parameter uses the following format:\n\tbranch:branch_name\n\tThe default is master\nbranch is required only if your SSM Document is stored in a branch other than master\n\n\tcommitID:commitID\n\tThe default is head.\n\tTo use the version of your SSM document in a commit other than the latest, specify the full commit ID.",
                                                "type": "string",
                                                "default": "branch:branch_name"
                                            },
                                            "tokenInfo": {
                                                "description": "The Systems Manager parameter (a SecureString parameter) where you store your GitHub access token information, in the format {{ssm-secure:secure-string-token-name}}.",
                                                "default": "{{ssm-secure:secure-string-token}}"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "sourceType": {
                                        "const": "S3"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "sourceInfo": {
                                        "properties": {
                                            "path": {
                                                "description": "The URL to the file or directory you want to download from Amazon S3.",
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "sourceType": {
                                        "const": "SSMDocument"
                                    }
                                }
                            },
                            "then": {
                                "properties": {
                                    "sourceInfo": {
                                        "properties": {
                                            "name": {
                                                "description": "Option 1:\n\tThe name and version of the document in the following format: name:version. Version is optional.\n\nOption 2:\n\tThe ARN for the document in the following format: arn:aws:ssm:region:account_id:document/document_name .",
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    ]
                }
            },
            "required": ["inputs"]
        }
    }
}
