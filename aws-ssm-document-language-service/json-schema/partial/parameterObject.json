{
    "definitions": {
        "additionalProperties": {
            "type": "object",
            "description": "Custom defined parameters.",
            "required": ["type"],
            "additionalProperties": false,
            "defaultSnippets": [
                {
                    "label": "Snippet: String parameter",
                    "description": "Insert snippet for a parameter",
                    "body": {
                        "type": "String",
                        "description": "(Required) Description for this parameter.",
                        "default": "default value",
                        "allowedValues": ["value1", "value2"],
                        "allowedPattern": "value[0-9]+",
                        "minChars": 0
                    }
                },
                {
                    "label": "Snippet: Integer parameter",
                    "description": "Insert snippet for a Integer parameter",
                    "body": {
                        "type": "Integer",
                        "description": "(Required) Description for this parameter.",
                        "default": 100
                    }
                },
                {
                    "label": "Snippet: MapList parameter",
                    "description": "Insert snippet for a MapList parameter",
                    "body": {
                        "type": "MapList",
                        "description": "(Required) Description for this parameter.",
                        "default": [
                            {
                                "key1": "value1",
                                "key2": {
                                    "key2_1": "value2"
                                }
                            },
                            {
                                "key1": "value3",
                                "key2": {
                                    "key2_1": "value4"
                                }
                            }
                        ],
                        "maxItems": 2
                    }
                },
                {
                    "label": "Snippet: Boolean parameter",
                    "description": "Insert snippet for a Boolean parameter",
                    "body": {
                        "type": "Boolean",
                        "description": "(Required) Description for this parameter.",
                        "default": true
                    }
                },
                {
                    "label": "Snippet: StringList parameter",
                    "description": "Insert snippet for a StringList parameter",
                    "body": {
                        "type": "StringList",
                        "description": "(Required) Description for this parameter.",
                        "minItems": 1,
                        "displayType": "textarea"
                    }
                },
                {
                    "label": "Snippet: StringMap parameter",
                    "description": "Insert snippet for a StringMap parameter",
                    "body": {
                        "type": "StringMap",
                        "description": "(Required) Description for this parameter.",
                        "default": {
                            "key1": "value1",
                            "key2": "value2",
                            "key3": "value3"
                        }
                    }
                }
            ],
            "properties": {
                "type": {
                    "type": "string",
                    "enum": ["String", "Integer", "Boolean", "StringList", "StringMap", "MapList"],
                    "description": "Type of the parameter."
                },
                "description": {
                    "type": "string",
                    "description": "Description of the parameter."
                },
                "allowedPattern": {
                    "type": "string",
                    "description": " A regular expression that validates whether the user input matches the defined pattern for the parameter. If the user input does not match the allowed pattern, the execution fails to start."
                },
                "displayType": {
                    "type": "string",
                    "description": "Used to display either a textfield or a textarea in the AWS Management Console. textfield is a single-line text box. textarea is a multi-line text area.",
                    "enum": ["textfield", "textarea"]
                },
                "minItems": {
                    "type": "integer",
                    "description": "The minimum number of items allowed."
                },
                "maxItems": {
                    "type": "integer",
                    "description": "The maximum number of items allowed."
                },
                "minChars": {
                    "type": "integer",
                    "description": "The minimum number of parameter characters allowed."
                },
                "maxChars": {
                    "type": "integer",
                    "description": "The maximum number of parameter characters allowed."
                },
                "allowedValues": {
                    "type": "array",
                    "description": "An array of values allowed for the parameter. Defining allowed values for the parameter validates the user input. If a user inputs a value that is not allowed, the execution fails to start."
                },
                "default": {
                    "description": "Default value of the parameter."
                }
            },
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "String"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "default": {
                                "type": "string"
                            },
                            "allowedValues": {
                                "items": {
                                    "type": "string"
                                }
                            },
                            "minItems": {
                                "not": {}
                            },
                            "maxItems": {
                                "not": {}
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "Boolean"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "default": {
                                "type": "boolean"
                            },
                            "allowedValues": {
                                "items": {
                                    "type": "boolean"
                                }
                            },
                            "minItems": {
                                "not": {}
                            },
                            "maxItems": {
                                "not": {}
                            },
                            "minChars": {
                                "not": {}
                            },
                            "maxChars": {
                                "not": {}
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "Integer"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "default": {
                                "type": "integer"
                            },
                            "allowedValues": {
                                "items": {
                                    "type": "integer"
                                }
                            },
                            "minItems": {
                                "not": {}
                            },
                            "maxItems": {
                                "not": {}
                            },
                            "minChars": {
                                "not": {}
                            },
                            "maxChars": {
                                "not": {}
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "StringList"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "default": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            },
                            "allowedValues": {
                                "items": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            },
                            "minChars": {
                                "not": {}
                            },
                            "maxChars": {
                                "not": {}
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "StringMap"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "default": {
                                "type": "object"
                            },
                            "allowedValues": {
                                "items": {
                                    "type": "object"
                                }
                            },
                            "minItems": {
                                "not": {}
                            },
                            "maxItems": {
                                "not": {}
                            },
                            "minChars": {
                                "not": {}
                            },
                            "maxChars": {
                                "not": {}
                            }
                        }
                    }
                },
                {
                    "if": {
                        "properties": {
                            "type": {
                                "const": "MapList"
                            }
                        }
                    },
                    "then": {
                        "properties": {
                            "default": {
                                "type": "array",
                                "items": {
                                    "type": "object"
                                }
                            },
                            "allowedValues": {
                                "items": {
                                    "type": "array",
                                    "items": {
                                        "type": "object"
                                    }
                                }
                            },
                            "minChars": {
                                "not": {}
                            },
                            "maxChars": {
                                "not": {}
                            }
                        }
                    }
                }
            ]
        }
    }
}
